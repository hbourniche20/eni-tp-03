
<div class="container" id="team">
  <div class="row">
    <div class="col-md-8">
      <div class="bg-gris p-4">
        <div class="row">
          <div class="col-4">
            <input
              #nomEquipe
              aria-label="Equipe"
              class="form-control"
              placeholder="Equipe"
              (keydown.enter)="ajouterEquipe(nomEquipe.value)"
            />
          </div>
          <div class="col-1">
            <button class="btn btn-success" (click)="ajouterEquipe(nomEquipe.value)">
              <i class="fa fa-plus"></i>
            </button>
          </div>
        </div>
      </div>
      <div>
        <table
          *ngFor="let equipe of entreprise.equipes"
          class="table table-striped mt-4"
        >
          <tbody>
          <tr>
            <td colspan="3">
              <div class="row">
                <div class="col-1">
                  <button
                    class="btn btn-danger"
                    (click)="enleverEquipe(equipe.id)"
                  >
                    <i class="fa fa-trash "></i>
                  </button>
                </div>
                <div class="col-9">
                  <h3>{{equipe.nom}}</h3>
                </div>
                <div class="col-2">

                </div>
              </div>
        </td>
      </tr>

      <tr *ngIf="equipe.membres.length >0">
        <th>Prénom</th>
        <th>Nom</th>
        <th>Action</th>
      </tr>

      <tr *ngFor="let personne of equipe.membres">
        <td>{{personne.prenom}}</td>
        <td>{{personne.nom}}</td>
        <td>
          <button
            (click)="enleverPersonneEquipe(equipe.id, personne.id)"
            class="btn btn-danger"
          >
            <i class="fa fa-trash"></i>
          </button>
        </td>
      </tr>
      </tbody>
      </table>
    </div>
  </div>
  <div class="col-md-4">
    <div class="bg-gris p-4">
      <div class="mb-3">
        <input
          #prenom
          class="form-control"
          aria-label="Prénom"
          placeholder="Prénom"
        />
      </div>
      <div class="mb-3">
        <input
          #nom
          class="form-control"
          aria-label="prenom"
          placeholder="Nom"
        />
      </div>
      <div class="mb-3">
        <select
          #equipe
          aria-label="Equipe"
          class="form-select"
        >
          <option value="-1">Pas d'équipe</option>
          <option *ngFor="let equipe of entreprise.equipes" [value]="equipe.id">
            {{equipe.nom}}
          </option>
        </select>
      </div>
      <button
        class="btn btn-success btn-lg col-12"
        (click)="ajouterPersonne(nom.value, prenom.value, equipe.value)"
      >
        <i class="fa fa-plus"></i>
      </button>
    </div>
    <!-- divUser -->

    <div class="mt-3 pt-2">
      <table
        *ngIf="entreprise.personnes.length >0"
        class="table table-striped mt-4"
      >
        <thead>
        <tr>
          <th>Prénom</th>
          <th>Nom</th>
          <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let personne of entreprise.personnes">
          <td>{{personne.prenom}}</td>
          <td>{{personne.nom}}</td>
          <td>
            <button
              (click)="enleverPersonne(personne.id)"
              class="btn btn-danger"
            >
              <i class="fa fa-trash"></i>
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- col4 -->
</div>
<!-- row -->
</div>

